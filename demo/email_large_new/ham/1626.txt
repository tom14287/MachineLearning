[unison-announc] new unison beta-releas (2.9.20) now avail------------------------ yahoo! group sponsor ---------------------~-->
4 dvd free +s&p; join now
http://us.click.yahoo.com/pt6ybb/nxieaa/ey.gaa/26eolb/tm
---------------------------------------------------------------------~->

a new version of unison is now avail for test.  it incorpor
sever small improv over 2.9.1, but the main chang is a fix to
a bug that had potenti seriou safeti consequ, but onli for
the veri small number of user that ar in the habit of run more
than on instanc of unison at a time, in parallel.  these user ar
strongli encourag to upgrad.  other can wait if thei wish.

the releas includ pre-built execut for linux and solari, but
not window.  (we ar look for a unison-window maintain -- at
the moment, none of the activ develop ar regularli us unison
on window, and we do not have a machin that is configur properli
for build execut for export.)

grab it from here:
   http://www.ci.upenn.edu/~bcpierc/unison/download.html

enjoi,

        -- benjamin

   chang sinc 2.9.1:
     * ad a prefer maxthread that can be us to limit the number
       of simultan file transfer.
     * ad a backupdir prefer, which control where backup file
       ar store.
     * basic support ad for osx. in particular, unison now recogn
       when on of the host be synchron is run osx and
       switch to a case-insensit treatment of filenam (i.e., 'foo'
       and 'foo' ar consid to be the same file). (osx is not yet
       fulli work, howev: in particular, file with resourc fork
       will not be synchron correctli.)
     * the same hash us to form the archiv name is now also ad to
       the name of the temp file creat dure file transfer. the
       reason for thi is that, dure updat detect, we ar go to
       silent delet ani old temp file that we find along the wai, and
       we want to prevent ourselv from delet temp file belong to
       other instanc of unison that mai be run in parallel, e.g.
       synchron with a differ host. thank to ruslan ermilov for
       thi suggest.
     * sever small user interfac improv
     * document
          + faq and bug report instruct have been split out as
            separ html page, access directli from the unison web
            page.
          + addit to faq, in particular suggest about perform
            tune.
     * makefil
          + makefil.ocaml now set uistyl=text or uistyl=gtk
            automat, depend on whether it find lablgtk
            instal
          + unison should now compil ``out of the box'' under osx
       
   chang sinc 2.8.1:
     * chang profil work again under window
     * file movement optim: unison now tri to us local copi
       instead of transfer for move or copi file. it is control by
       a boolean option ``xferbycopi''.
     * network statist window (transfer rate, amount of data
       transfer). [nb: not avail in window-cygwin version.]
     * symlink work under the cygwin version (which is dynam
       link).
     * fix potenti deadlock when synchron between window and
       unix
     * small improv:
          + if neither the
            tt userprofil nor the
            tt home environ variabl ar set, then unison will put
            it temporari commit log (call
            tt danger.readm) into the directori name by the
            tt unison environ variabl, if ani; otherwis it will us
            tt c:.
          + altern set of valu for fastcheck: ye = true; no =
            fals; default = auto.
          + -silent impli -contactquietli
     * sourc code:
          + code reorgan and tidi. (start break up some of
            the basic util modul so that the non-unison-specif
            stuff can be made avail for other project.)
          + sever makefil and doc chang (for releas);
          + further comment in ``updat.ml'';
          + connect inform is not store in global variabl
            anymor.
       
   chang sinc 2.7.78:
     * small bugfix to textual user interfac under unix (to avoid
       leav the termin in a bad state where it would not echo input
       after unison exit).
       
   chang sinc 2.7.39:
     * improv to the main web page (stabl and beta version doc
       ar now both access).
     * user manual revis.
     * ad some new prefer:
          + ``sshcmd'' and ``rshcmd'' for specifi path to ssh and rsh
            program.
          + ``contactquietli'' for suppress the ``contact server''
            messag dure unison startup (under the graphic ui).
     * bug fix:
          + fix small bug in ui that neglect to chang the displai
            column header if load a new profil caus the root to
            chang.
          + fix a bug that would put the text ui into an infinit loop
            if it encount a conflict when run in batch mode.
          + ad some code to try to fix the displai of non-ascii
            charact in filenam on window system in the gtk ui.
            (thi code is current untest---if you're on of the
            peopl that had report problem with displai of non-ascii
            filenam, we'd appreci know if thi actual fix
            thing.)
          + `-prefer/-forc newer' work properli now. (the bug wa
            report by sebastian urbaniak and sean fulton.)
     * user interfac and unison behavior:
          + renam `proce' to `go' in the graphic ui.
          + ad exit statu for the textual user interfac.
          + path that ar not synchron becaus of conflict or
            error dure updat detect ar now note in the log file.
          + [end] messag in log now us a briefer format
          + chang the text ui startup sequenc so that
            tt ./unison -ui text will us the default profil instead of
            fail.
          + made some improv to the error messag.
          + ad some debug messag to remot.ml.
       
   chang sinc 2.7.7:
     * incorpor, onc again, a multi-thread transport sub-system.
       it transfer sever file at the same time, therebi make much
       more effect us of avail network bandwidth. unlik the
       earlier attempt, thi time we do not reli on the nativ thread
       librari of ocaml. instead, we implement a light-weight,
       non-preemptiv multi-thread librari in ocaml directli. thi
       version appear stabl.
       some adjust to unison ar made to accommod the
       multi-thread version. these includ, in particular, chang to
       the user interfac and log, for exampl:
          + two log entri for each transfer task, on for the
            begin, on for the end.
          + suppress warn messag against remov temp file left
            by a previou unison run, becaus warn doe not work
            nice under multi-thread. the temp file name ar made
            less like to coincid with the name of a file creat by
            the user. thei take the form
            .#..unison.tmp.
     * ad a new command to the gtk user interfac: press 'f' caus
       unison to start a new updat detect phase, us as path just
       those path that have been detect as chang and not yet mark
       as successfulli complet. us thi command to quickli restart
       unison on just the set of path still need attent after a
       previou run.
     * made the ignorecas prefer user-visibl, and chang the
       initi code so that it can be manual set to true, even
       if neither host is run window. (thi mai be us, e.g.,
       when us unison run on a unix system with a fat volum
       mount.)
     * small improv and bug fix:
          + error in prefer file now gener fatal error rather
            than warn at startup time. (i.e., you can't go on from
            them.) also, we fix a bug that wa prevent these
            warn from appear in the text ui, so some user who
            have been run (unsuspectingli) with garbag in their
            pref file mai now get error report.
          + error report for prefer file now provid file name
            and line number.
          + more intellig messag in the case of ident chang to
            the same file: ``noth to do: replica have been chang
            onli in ident wai sinc last sync.''
          + file with prefix '.#' exclud when scan for prefer
            file.
          + rsync instruct ar send directli instead of first
            marshal.
          + won't try forev to get the fingerprint of a continu
            chang file: unison will give up after certain number of
            retri.
          + other bug fix, includ the on report by peter seling
            (forc=older prefer not work).
     * compil:
          + upgrad to the new ocaml 3.04 compil, with the lablgtk
            1.2.3 librari (patch version us for compil under
            window).
          + ad the option to compil unison on the window platform
            with cygwin gnu c compil. thi option onli support
            build dynam link unison execut.
       
   chang sinc 2.7.4:
     * fix a silli (but debilit) bug in the client startup
       sequenc.
       
   chang sinc 2.7.1:
     * ad addprefsto prefer, which (when set) control which
       prefer file new prefer (e.g. new ignor pattern) ar
       ad to.
     * bug fix: read the initi connect header on byte at a time, so
       that we don't block if the header is shorter than expect. (thi
       bug did not affect normal oper --- it just made it hard to
       tell when you were try to us unison incorrectli with an old
       version of the server, sinc it would hang instead of give an
       error messag.)
       
   chang sinc 2.6.59:
     * chang fastcheck from a boolean to a string prefer. it legal
       valu ar ye (for a fast check), no (for a safe check), or
       default (for a fast check---which also happen to be safe---when
       run on unix and a safe check when on window). the default is
       default.
     * sever prefer have been renam for consist. all
       prefer name ar now spell out in lowercas. for backward
       compat, the old name still work, but thei ar not
       mention in the manual ani more.
     * the temp file creat by the 'diff' and 'merg' command ar now
       name by prepend a new prefix to the file name, rather than
       append a suffix. thi should avoid confus diff/merg
       program that depend on the suffix to guess the type of the file
       content.
     * we now set the keepal option on the server socket, to make sure
       that the server time out if the commun link is
       unexpectedli broken.
     * bug fix:
          + when updat small file, unison now close the destin
            file.
          + file permiss ar properli updat when the file is behind
            a follow link.
          + sever other small fix.
       
   chang sinc 2.6.38:
     * major window perform improv!
       we've ad a prefer fastcheck that make unison look onli at
       a file's creation time and last-modifi time to check whether it
       ha chang. thi should result in a huge speedup when check
       for updat in larg replica.
       when thi switch is set, unison will us file creation time as
       'pseudo inod number' when scan window replica for updat,
       instead of read the full content of everi file. thi mai caus
       unison to miss propag an updat if the creat time,
       modif time, and length of the file ar all unchang by the
       updat (thi is not easi to achiev, but it can be done). howev,
       unison will never overwrit such an updat with a chang from the
       other replica, sinc it alwai doe a safe check for updat just
       befor propag a chang. thu, it is reason to us thi
       switch most of the time and occasion run unison onc with
       fastcheck set to fals, if you ar worri that unison mai have
       overlook an updat.
       warn: thi chang is ha not yet been thoroughli field-test.
       if you set the fastcheck prefer, pai care attent to what
       unison is do.
     * new function: central backup and merg
          + thi version incorpor two piec of major new
            function, implement by sylvain roi dure a summer
            internship at penn: a central backup facil that keep
            a full backup of (select file in) each replica, and a
            merg featur that allow unison to invok an extern
            file-merg tool to resolv conflict chang to
            individu file.
          + central backup:
               o unison now maintain full backup of the
                 last-synchron version of (some of) the file in
                 each replica; these function both as backup in the
                 usual sens and as the ``common version'' when invok
                 extern merg program.
               o the back up file ar store in a directori
                 /.unison/backup on each host. (the name of thi
                 directori can be chang by set the environ
                 variabl unisonbackupdir.)
               o the predic backup control which file ar actual
                 back up: give the prefer 'backup = path *'
                 caus back up of all file.
               o file ar ad to the backup directori whenev unison
                 updat it archiv. thi mean that
                    # when unison reconstruct it archiv from scratch
                      (e.g., becaus of an upgrad, or becaus the
                      archiv file have been manual delet), all
                      file will be back up.
                    # otherwis, each file will be back up the first
                      time unison propag an updat for it.
               o the prefer backupvers control how mani previou
                 version of each file ar kept. the default is 2 (i.e.,
                 the last synchron version plu on backup).
               o for backward compat, the backup prefer is
                 also still support, but backup is now prefer.
               o it is ok to manual delet file from the backup
                 directori (or to throw awai the directori itself).
                 befor unison us ani of these file for anyth
                 import, it check that it fingerprint match the
                 on that it expect.
          + merg:
               o both user interfac offer a new 'merg' command,
                 invok by press 'm' (with a chang file select).
               o the actual merg is perform by an extern program.
                 the prefer merg and merg2 control how thi
                 program is invok. if a backup exist for thi file
                 (see the backup prefer), then the merg prefer
                 is us for thi purpos; otherwis merg2 is us. in
                 both case, the valu of the prefer should be a
                 string repres the command that should be pass to
                 a shell to invok the merg program. within thi string,
                 the special substr current1, current2, new, and old
                 mai appear at ani point. unison will substitut these as
                 follow befor invok the command:
                    # current1 is replac by the name of the local copi
                      of the file;
                    # current2 is replac by the name of a temporari
                      file, into which the content of the remot copi of
                      the file have been transfer by unison prior to
                      perform the merg;
                    # new is replac by the name of a temporari file
                      that unison expect to be written by the merg
                      program when it finish, give the desir new
                      content of the file; and
                    # old is replac by the name of the back up copi
                      of the origin version of the file (i.e., it
                      state at the end of the last success run of
                      unison), if on exist (appli onli to merg, not
                      merg2).
                 for exampl, on unix system set the merg
                 prefer to

   merg = diff3 -m current1 old current2 > new
                 will tell unison to us the extern diff3 program for
                 merg.
                 a larg number of extern merg program ar
                 avail. for exampl, emac user mai find the
                 follow conveni:

    merg2 = emac -q --eval '(ediff-merg-file "current1" "current2"
               nil "new")'
    merg = emac -q --eval '(ediff-merg-file-with-ancestor
               "current1" "current2" "old" nil "new")'
                 (these command ar displai here on two line to avoid
                 run off the edg of the page. in your prefer
                 file, each should be written on a singl line.)
               o if the extern program exit without leav ani file
                 at the path new, unison consid the merg to have
                 fail. if the merg program write a file call new
                 but exit with a non-zero statu code, then unison
                 consid the merg to have succeed but to have
                 gener conflict. in thi case, it attempt to invok
                 an extern editor so that the user can resolv the
                 conflict. the valu of the editor prefer control
                 what editor is invok by unison. the default is emac.
               o pleas send us suggest for other us valu of
                 the merg2 and merg prefer -- we'd like to give
                 sever exampl in the manual.
     * smaller chang:
          + when on prefer file includ anoth, unison no longer
            add the suffix '.prf' to the includ file by default. if a
            file with precis the given name exist in the .unison
            directori, it will be us; otherwis unison will add .prf,
            as it did befor. (thi chang mean that includ prefer
            file can be name blah.includ instead of blah.prf, so that
            unison will not offer them in it 'choos a prefer file'
            dialog.)
          + for linux system, we now offer both a static link and
            a dynam link execut. the static on is larger,
            but will probabl run on more system, sinc it doesn't
            depend on the same version of dynam link librari
            modul be avail.
          + fix the forc and prefer prefer, which were get
            the propag direct exactli backward.
          + fix a bug in the startup code that would caus unison to
            crash when the default profil (~/.unison/default.prf) doe
            not exist.
          + fix a bug where, on the run when a profil is first
            creat, unison would confusingli displai the root in
            revers order in the user interfac.
     * for develop:
          + we've ad a modul depend diagram to the sourc
            distribut, in src/depend.ps, to help new prospect
            develop with navig the code.
       
   chang sinc 2.6.11:
     * incompat chang: archiv format ha chang.
     * incompat chang: the startup sequenc ha been complet
       rewritten and greatli simplifi. the main user-visibl chang is
       that the defaultpath prefer ha been remov. it effect can
       be approxim by us multipl profil, with includ
       direct to incorpor common set. all us of defaultpath
       in exist profil should be chang to path.
       anoth chang in startup behavior that will affect some user is
       that it is no longer possibl to specifi root both in the profil
       and on the command line.
       you can achiev a similar effect, though, by break your profil
       into two:


  default.prf =
      root = blah
      root = foo
      includ common

  common.prf =
      
       now do

  unison common root1 root2
       when you want to specifi root explicitli.
     * the -prefer and -forc option have been extend to allow user
       to specifi that file with more recent modtim should be
       propag, write either -prefer newer or -forc newer. (for
       symmetri, unison will also accept -prefer older or -forc older.)
       the -forc older/newer option can onli be us when -time is
       also set.
       the graphic user interfac provid access to these facil
       on a on-off basi via the action menu.
     * name of root can now be ``alias'' to allow replica to be
       reloc without chang the name of the archiv file where
       unison store inform between run. (thi featur is for
       expert onli. see the ``archiv file'' section of the manual for
       more inform.)
     * graphic user-interfac:
          + a new command is provid in the synchron menu for
            switch to a new profil without restart unison from
            scratch.
          + the gui also support on-kei shortcut for commonli us
            profil. if a profil contain a prefer of the form 'kei
            = n', where n is a singl digit, then press thi kei will
            caus unison to immedi switch to thi profil and begin
            synchron again from scratch. (ani action that mai
            have been select for a set of chang current be
            displai will be discard.)
          + each profil mai includ a prefer 'label = '
            give a descript string that describ the option
            select in thi profil. the string is list along with the
            profil name in the profil select dialog, and displai
            in the top-right corner of the main unison window.
     * minor:
          + fix a bug that would sometim caus the 'diff' displai to
            order the file backward rel to the main user
            interfac. (thank to pascal brisset for thi fix.)
          + on unix system, the graphic version of unison will check
            the displai variabl and, if it is not set, automat
            fall back to the textual user interfac.
          + synchron path (path prefer) ar now match
            against the ignor prefer. so if a path is both
            specifi in a path prefer and ignor, it will be
            skip.
          + numer other bugfix and small improv.
       
   chang sinc 2.6.1:
     * the synchron of modif time ha been disabl for
       directori.
     * prefer file mai now includ line of the form includ ,
       which will caus name.prf to be read at that point.
     * the synchron of permiss between window and unix now
       work properli.
     * a bind cygwin=binmod in now ad to the environ so that
       the cygwin port of openssh work properli in a non-cygwin context.
     * the servercmd and addversionno prefer can now be us
       togeth: -addversionno append an appropri -nnn to the server
       command, which is found by us the valu of the -servercmd
       prefer if there is on, or els just unison.
     * both '-pref=val' and '-pref val' ar now allow for boolean
       valu. (the former can be us to set a prefer to fals.)
     * lot of small bug fix.
       
   chang sinc 2.5.31:
     * the log prefer is now set to true by default, sinc the log
       file seem us for most user.
     * sever miscellan bugfix (most involv symlink).
       
   chang sinc 2.5.25:
     * incompat chang: archiv format ha chang (again).
     * sever signific bug introduc in 2.5.25 have been fix.
       
   chang sinc 2.5.1:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * new function:
          + unison now synchron file modtim, user-id, and
            group-id.
            these new featur ar control by a set of new
            prefer, all of which ar current fals by default.
               o when the time prefer is set to true, file
                 modif time ar propag. (becaus the
                 represent of time mai not have the same
                 granular on both replica, unison mai not alwai be
                 abl to make the modtim precis equal, but it will
                 get them as close as the oper system involv
                 allow.)
               o when the owner prefer is set to true, file ownership
                 inform is synchron.
               o when the group prefer is set to true, group
                 inform is synchron.
               o when the numericid prefer is set to true, owner and
                 group inform is synchron numer. by
                 default, owner and group number ar convert to name
                 on each replica and these name ar synchron. (the
                 special user id 0 and the special group 0 ar never
                 map via user/group name even if thi prefer is
                 not set.)
          + ad an integ-valu prefer perm that can be us to
            control the propag of permiss bit. the valu of thi
            prefer is a mask indic which permiss bit should
            be synchron. it is set by default to 0o1777: all bit but
            the set-uid and set-gid bit ar synchronis (synchron
            these latter bit can be a secur hazard). if you want to
            synchron all bit, you can set the valu of thi
            prefer to -1.
          + ad a log prefer (default fals), which make unison
            keep a complet record of the chang it make to the
            replica. by default, thi record is written to a file call
            unison.log in the user's home directori (the valu of the
            home environ variabl). if you want it someplac els,
            set the logfil prefer to the full pathnam you want
            unison to us.
          + ad an ignorenot prefer that maintain a set of
            pattern for path that should definit not be ignor,
            whether or not thei match an ignor pattern. (that is, a path
            will now be ignor iff it match an ignor pattern and doe
            not match ani ignorenot pattern.)
     * user-interfac improv:
          + root ar now displai in the user interfac in the same
            order as thei were given on the command line or in the
            prefer file.
          + when the batch prefer is set, the graphic user
            interfac no longer wait for user confirm when it
            displai a warn messag: it simpli pop up an advisori
            window with a dismiss button at the bottom and keep on
            go.
          + ad a new prefer for control how mani statu
            messag ar print dure updat detect: statusdepth
            control the maximum depth for path on the local machin
            (longer path ar not displai, nor ar non-directori
            path). the valu should be an integ; default is 1.
          + remov the trace and silent prefer. thei did not seem
            veri us, and there were too mani prefer for
            control output in variou wai.
          + the text ui now displai just the default command (the on
            that will be us if the user just type ) instead of
            all avail command. type ? will print the full list of
            possibl.
          + the function that find the canon hostnam of the local
            host (which is us, for exampl, in calcul the name of
            the archiv file us to rememb which file have been
            synchron) normal us the gethostnam oper system
            call. howev, if the environ variabl
            unisonlocalhostnam is set, it valu will now be us
            instead. thi make it easier to us unison in situat
            where a machin's name chang frequent (e.g., becaus it
            is a laptop and get move around a lot).
          + file owner and group ar now displai in the ``detail
            window'' at the bottom of the screen, when unison is
            configur to synchron them.
     * for hacker:
          + updat to jacqu garrigu's new version of lablgtk, which
            mean we can throw awai our local patch version.
            if you're compil the gtk version of unison from sourc,
            you'll need to updat your copi of lablgtk to the develop
            releas, avail from
            http://wwwfun.kurim.kyoto-u.ac.jp/soft/olabl/lablgtk.html
            (warn: instal lablgtk under window is current a bit
            challeng.)
          + the todo.txt file (in the sourc distribut) ha been
            clean up and reorgan. the list of pend task should
            be much easier to make sens of, for peopl that mai want to
            contribut their program energi. there is also a
            separ file bug.txt for open bug.
          + the tk user interfac ha been remov (it wa not be
            maintain and no longer compil).
          + the debug prefer now print quit a bit of addit
            inform that should be us for identifi sourc of
            problem.
          + the version number of the remot server is now check right
            awai dure the connect setup handshak, rather than
            later. (somebodi sent a bug report of a server crash that
            turn out to come from us inconsist version: better
            to check thi earlier and in a wai that can't crash either
            client or server.)
          + unison now run correctli on 64-bit architectur (e.g. alpha
            linux). we will not be distribut binari for these
            architectur ourselv (at least for a while) but if someon
            would like to make them avail, we'll be glad to provid a
            link to them.
     * bug fix:
          + pattern match (e.g. for ignor) is now case-insensit
            when unison is in case-insensit mode (i.e., when on of
            the replica is on a window machin).
          + some peopl had troubl with mysteri failur dure
            propag of updat, where file would be fals report
            as have chang dure synchron. thi should be
            fix.
          + numer smaller fix.
       
   chang sinc 2.4.1:
     * ad a number of 'sort mode' for the user interfac. by
       default, conflict chang ar displai at the top, and the
       rest of the entri ar sort in alphabet order. thi
       behavior can be chang in the follow wai:
          + set the sortnewfirst prefer to true caus newli
            creat file to be displai befor chang file.
          + set sortbys caus file to be displai in increas
            order of size.
          + give the prefer sortfirst= (where  is
            a path descriptor in the same format as 'ignor' and 'follow'
            pattern, caus path match thi pattern to be displai
            first.
          + similarli, give the prefer sortlast= caus
            path match thi pattern to be displai last.
       the sort prefer ar describ in more detail in the user
       manual. the sortnewfirst and sortbys flag can also be access
       from the 'sort' menu in the grpahic user interfac.
     * ad two new prefer that can be us to chang unison's
       fundament behavior to make it more like a mirror tool instead
       of a synchron.
          + give the prefer prefer with argument  (by ad
            -prefer  to the command line or prefer=) to your
            profil) mean that, if there is a conflict, the content of
             should be propag to the other replica (with no
            question ask). non-conflict chang ar treat as
            usual.
          + give the prefer forc with argument  will make
            unison resolv all differ in favor of the given root,
            even if it wa the other replica that wa chang.
       these option should be us with care! (more inform is
       avail in the manual.)
     * small chang:
          + chang default answer to 'ye' in all two-button dialog in
            the graphic interfac (thi seem more intuit).
          + the rsync prefer ha been remov (it wa us to
            activ rsync compress for file transfer, but rsync
            compress is now enabl by default).
          + in the text user interfac, the arrow indic which
            direct chang ar be propag ar print
            differ when the user ha overrid unison's default
            recommend (====> instead of ---->). thi match the
            behavior of the graphic interfac, which displai such
            arrow in a differ color.
          + carriag return (control-m's) ar ignor at the end of
            line in profil, for window compat.
          + all prefer ar now fulli document in the user manual.
       
   chang sinc 2.3.12:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * new/improv function:
          + a new prefer -sortbys control the order in which
            chang ar displai to the user: when it is set to true,
            the smallest chang file ar displai first. (the default
            set is fals.)
          + a new prefer -sortnewfirst caus newli creat file to
            be list befor other updat in the user interfac.
          + we now allow the ssh protocol to specifi a port.
          + incompat chang: the unison: protocol is deprec, and
            we ad file: and socket:. you mai have to modifi your
            profil in the .unison directori. if a replica is specifi
            without an explicit protocol, we now assum it refer to a
            file. (previous "//saul/foo" meant to us ssh to connect to
            saul, then access the foo directori. now it mean to access
            saul via a remot file mechan such as samba; the old
            effect is now achiev by write ssh://saul/foo.)
          + chang the startup sequenc for the case where root ar
            given but no profil is given on the command line. the new
            behavior is to us the default profil (creat it if it
            doe not exist), and temporarili overrid it root. the
            manual claim that thi case would work by read no
            profil at all, but afaik thi wa never true.
          + in all user interfac, file with conflict ar alwai
            list first
          + a new prefer 'sshversion' can be us to control which
            version of ssh should be us to connect to the server. legal
            valu ar 1 and 2. (default is empti, which will make unison
            us whatev version of ssh is instal as the default 'ssh'
            command.)
          + the situat when the permiss of a file wa updat the
            same on both side is now handl correctli (we us to report
            a spuriou conflict)
     * improv for the window version:
          + the fact that filenam ar treat case-insensit under
            window should now be handl correctli. the exact behavior
            is describ in the cross-platform section of the manual.
          + it should be possibl to synchron with window share,
            e.g., //host/drive/path.
          + workaround to the bug in sync root directori in
            window. the most difficult thing to fix is an ocaml bug:
            unix.opendir fail on c: in some version of window.
     * improv to the gtk user interfac (the tk interfac is no
       longer be maintain):
          + the ui now displai action differ (in blue) when thei
            have been explicitli chang by the user from unison's
            default recommend.
          + more color appear.
          + the initi profil select window work better.
          + if ani transfer fail, a messag to thi effect is
            displai along with 'synchron complet' at the end of
            the transfer phase (in case thei mai have scroll off the
            top).
          + ad a global progress meter, displai the percentag of
            total byte that have been transfer so far.
     * improv to the text user interfac:
          + the file detail will be displai automat when a
            conflict is been detect.
          + when a warn is gener (e.g. for a temporari file left
            over from a previou run of unison) unison will no longer
            wait for a respons if it is run in -batch mode.
          + the ui now displai a short list of possibl input each time
            it wait for user interact.
          + the ui now quit immedi (rather than loop back and
            start the interact again) if the user press 'q' when
            ask whether to propag chang.
          + press 'g' in the text user interfac will proce
            immedi with propag updat, without ask ani more
            question.
     * document and instal chang:
          + the manual now includ a faq, plu section on common
            problem and on trick contribut by user.
          + both the download page and the download directori explicitli
            sai what ar the current stabl and beta-test version
            number.
          + the ocaml sourc for the up-to-the-minut develop'
            version (not guarante to be stabl, or even to compil, at
            ani given time!) ar now avail from the download page.
          + ad a subsect to the manual describ cross-platform
            issu (case conflict, illeg filenam)
     * mani small bug fix and random improv.
       
   chang sinc 2.3.1:
     * sever bug fix. the most import is a bug in the rsync modul
       that would occasion caus chang propag to fail with a
       'renam' error.
       
   chang sinc 2.2:
     * the multi-thread transport system is now disabl by default.
       (it is not stabl enough yet.)
     * variou bug fix.
     * a new experiment featur:
       the final compon of a -path argument mai now be the wildcard
       specifi *. when unison see such a path, it expand thi path on
       the client into into the correspond list of path by list
       the content of that directori.
       note that if you us wildcard path from the command line, you
       will probabl need to us quot or a backslash to prevent the *
       from be interpret by your shell.
       if both root ar local, the content of the first on will be
       us for expand wildcard path. (nb: thi is the first on
       after the canon step -- i.e., the on that is list first
       in the user interfac -- not the on list first on the command
       line or in the prefer file.)
       
   chang sinc 2.1:
     * the transport subsystem now includ an implement by sylvain
       gommier and norman ramsei of tridgel and mackerra's rsync
       protocol. thi protocol achiev much faster transfer when onli a
       small part of a larg file ha been chang by send just diff.
       thi featur is mainli help for transfer over slow link---on
       fast local area network it can actual degrad perform---so
       we have left it off by default. start unison with the -rsync
       option (or put rsync=true in your prefer file) to turn it on.
     * ``progress bar'' ar now diplai dure remot file transfer,
       show what percentag of each file ha been transfer so far.
     * the version number scheme ha chang. new releas will now be
       have number like 2.2.30, where the second compon is
       increment on everi signific public releas and the third
       compon is the ``patch level.''
     * miscellan improv to the gtk-base user interfac.
     * the manual is now avail in pdf format.
     * we ar experi with us a multi-thread transport
       subsystem to transfer sever file at the same time, make much
       more effect us of avail network bandwidth. thi featur is
       not complet stabl yet, so by default it is disabl in the
       releas version of unison.
       if you want to plai with the multi-thread version, you'll need
       to recompil unison from sourc (as describ in the
       document), set the thread flag in makefil.ocaml to
       true. make sure that your ocaml compil ha been instal with
       the -with-pthread configur option. (you can verifi thi by
       check whether the file thread/thread.cma in the ocaml
       standard librari directori contain the string -lpthread near the
       end.)
       
   chang sinc 1.292:
     * reduc memori footprint (thi is especi import dure the
       first run of unison, where it ha to gather inform about all
       the file in both repositori).
     * fix a bug that would caus the socket server under nt to fail
       after the client exit.
     * ad a shift modifi to the ignor menu shortcut kei in gtk
       interfac (to avoid hit them accident).
       
   chang sinc 1.231:
     * tunnel over ssh is now support in the window version. see
       the instal section of the manual for detail instruct.
     * the transport subsystem now includ an implement of the
       rsync protocol, built by sylvain gommier and norman ramsei. thi
       protocol achiev much faster transfer when onli a small part of
       a larg file ha been chang by send just diff. the rsync
       featur is off by default in the current version. us the -rsync
       switch to turn it on. (nb. we still have a lot of tune to do:
       you mai not notic much speedup yet.)
     * we're experi with a multi-thread transport subsystem,
       written by jerom vouillon. the download binari ar still
       singl-thread: if you want to try the multi-thread version,
       you'll need to recompil from sourc. (sai make thread=true.)
       nativ thread support from the compil is requir. us the
       option -thread n to select the maxim number of concurr
       thread (default is 5). multi-thread and singl-thread
       client/server can interoper.
     * a new gtk-base user interfac is now avail, thank to jacqu
       garrigu. the tk user interfac still work, but we'll be shift
       develop effort to the gtk interfac from now on.
     * ocaml 3.00 is now requir for compil unison from sourc. the
       modul uitk and myfileselect have been chang to us labltk
       instead of camltk. to compil the tk interfac in window, you
       must have ocaml-3.00 and tk8.3. when instal tk8.3, put it in
       c:\tcl rather than the suggest c:\program file\tcl, and be sure
       to instal the header and librari (which ar not instal by
       default).
     * ad a new -addversionno switch, which caus unison to us
       unison- instead of just unison as the remot
       server command. thi allow multipl version of unison to coexist
       conveni on the same server: whichev version is run on the
       client, the same version will be select on the server.
       
   chang sinc 1.219:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * thi version fix sever annoi bug, includ:
          + some case where propag of file permiss wa not
            work.
          + umask is now ignor when creat directori
          + directori ar creat writabl, so that a read-onli
            directori and it content can be propag.
          + handl of warn gener by the server.
          + synchron a path whose parent is not a directori on both
            side is now flag as erron.
          + fix some bug relat to symnbol link and nonexist
            root.
               o when a chang (delet or new content) is propag
                 onto a 'follow'ed symlink, the file point to by the
                 link is now chang. (we us to chang the link itself,
                 which doesn't fit our assert that 'follow' mean the
                 link is complet invis)
               o when on root did not exist, propag the other root
                 on top of it us to fail, becuas unison could not
                 calcul the work directori into which to write
                 chang. thi should be fix.
     * a human-readabl timestamp ha been ad to unison's archiv
       file.
     * the semant of path and name regular express now correspond
       better.
     * some minor improv to the text ui (e.g. a command for go
       back to previou item)
     * the organ of the export directori ha chang --- should be
       easier to find / download thing now.
       
   chang sinc 1.200:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * thi version ha not been test extens on window.
     * major intern chang design to make unison safer to run at the
       same time as the replica ar be chang by the user.
     * intern perform improv.
       
   chang sinc 1.190:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * a number of intern function have been chang to reduc the
       amount of memori alloc, especi dure the first
       synchron. thi should help power user with veri big
       replica.
     * reimplement of low-level remot procedur call stuff, in
       prepar for ad rsync-like smart file transfer in a later
       releas.
     * miscellan bug fix.
       
   chang sinc 1.180:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * fix some small bug in the interpret of ignor pattern.
     * fix some problem that were prevent the window version from
       work correctli when click-start.
     * fix to treatment of file permiss under window, which were
       caus spuriou report of differ permiss when
       synchron between window and unix system.
     * fix on more non-tail-recurs list process function, which
       wa caus stack overflow when synchron veri larg
       replica.
       
   chang sinc 1.169:
     * the text user interfac now provid command for ignor file.
     * we found and fix some more non-tail-recurs list process
       function. some power user have report success with veri larg
       replica.
     * incompat chang: file end in .tmp ar no longer ignor
       automat. if you want to ignor such file, put an
       appropri ignor pattern in your profil.
     * incompat chang: the syntax of ignor and follow pattern ha
       chang. instead of put a line of the form

                 ignor = 
       in your profil (.unison/default.prf), you should put:

                 ignor = regexp 
       moreov, two other style of pattern ar also recogn:

                 ignor = name 
       match ani path in which on compon match , while

                 ignor = path 
       match exactli the path .
       standard ``glob'' convent can be us in  and
       :
          + a ? match ani singl charact except /
          + a * match ani sequenc of charact not includ /
          + [xyz] match ani charact from the set {x, y, z }
          + {a,bb,ccc} match ani on of a, bb, or ccc.
       see the user manual for some exampl.
       
   chang sinc 1.146:
     * some user were report stack overflow when synchron huge
       directori. we found and fix some non-tail-recurs list
       process function, which we hope will solv the problem. pleas
       give it a try and let us know.
     * major addit to the document.
       
   chang sinc 1.142:
     * major intern tidi and mani small bugfix.
     * major addit to the user manual.
     * unison can now be start with no argument -- it will prompt
       automat for the name of a profil file contain the root
       to be synchron. thi make it possibl to start the graphic
       ui from a desktop icon.
     * fix a small bug where the text ui on nt wa rais a 'no such
       signal' except.
       
   chang sinc 1.139:
     * the precompil window binari in the last releas wa compil
       with an old ocaml compil, caus propag of permiss not
       to work (and perhap lead to some other strang behavior we've
       heard report about). thi ha been correct. if you're us
       precompil binari on window, pleas upgrad.
     * ad a -debug command line flag, which control debug of
       variou modul. sai -debug xxx to enabl debug trace for modul
       xxx, or -debug all to turn on absolut everyth.
     * fix a small bug where the text ui on nt wa rais a 'no such
       signal' except.
       
   chang sinc 1.111:
     * incompat chang: the name and format of the prefer file
       in the .unison directori have chang. in particular:
          + the file ``pref'' should be renam to default.prf
          + the content of the file ``ignor'' should be merg into
            default.prf. each line of the form regexp in ignor should
            becom a line of the form ignor = regexp in default.prf.
     * unison now handl permiss bit and symbol link. see the
       manual for detail.
     * you can now have differ prefer file in your .unison
       directori. if you start unison like thi

             unison profilenam
       (i.e. with just on ``anonym'' command-line argument), then the
       file ~/.unison/profilenam.prf will be load instead of
       default.prf.
     * some improv to termin handl in the text user interfac
     * ad a switch -killserv that termin the remot server
       process when the unison client is shut down, even when us
       socket for commun. (by default, a remot server creat
       us ssh/rsh is termin automat, while a socket server
       is left run.)
     * when start in 'socket server' mode, unison print 'server
       start' on stderr when it is readi to accept connect. (thi
       mai be us for script that want to tell when a socket-mode
       server ha finish init.)
     * we now make a nightli mirror of our current intern develop
       tree, in case anyon want an up-to-the-minut version to hack
       around with.
     * ad a file contrib with some suggest for how to help us make
       unison better.
       


chang in version 2.9.20

   chang sinc 2.9.1:
     * ad a prefer maxthread that can be us to limit the number
       of simultan file transfer.
     * ad a backupdir prefer, which control where backup file
       ar store.
     * basic support ad for osx. in particular, unison now recogn
       when on of the host be synchron is run osx and
       switch to a case-insensit treatment of filenam (i.e., 'foo'
       and 'foo' ar consid to be the same file). (osx is not yet
       fulli work, howev: in particular, file with resourc fork
       will not be synchron correctli.)
     * the same hash us to form the archiv name is now also ad to
       the name of the temp file creat dure file transfer. the
       reason for thi is that, dure updat detect, we ar go to
       silent delet ani old temp file that we find along the wai, and
       we want to prevent ourselv from delet temp file belong to
       other instanc of unison that mai be run in parallel, e.g.
       synchron with a differ host. thank to ruslan ermilov for
       thi suggest.
     * sever small user interfac improv
     * document
          + faq and bug report instruct have been split out as
            separ html page, access directli from the unison web
            page.
          + addit to faq, in particular suggest about perform
            tune.
     * makefil
          + makefil.ocaml now set uistyl=text or uistyl=gtk
            automat, depend on whether it find lablgtk
            instal
          + unison should now compil ``out of the box'' under osx
       
   chang sinc 2.8.1:
     * chang profil work again under window
     * file movement optim: unison now tri to us local copi
       instead of transfer for move or copi file. it is control by
       a boolean option ``xferbycopi''.
     * network statist window (transfer rate, amount of data
       transfer). [nb: not avail in window-cygwin version.]
     * symlink work under the cygwin version (which is dynam
       link).
     * fix potenti deadlock when synchron between window and
       unix
     * small improv:
          + if neither the
            tt userprofil nor the
            tt home environ variabl ar set, then unison will put
            it temporari commit log (call
            tt danger.readm) into the directori name by the
            tt unison environ variabl, if ani; otherwis it will us
            tt c:.
          + altern set of valu for fastcheck: ye = true; no =
            fals; default = auto.
          + -silent impli -contactquietli
     * sourc code:
          + code reorgan and tidi. (start break up some of
            the basic util modul so that the non-unison-specif
            stuff can be made avail for other project.)
          + sever makefil and doc chang (for releas);
          + further comment in ``updat.ml'';
          + connect inform is not store in global variabl
            anymor.
       
   chang sinc 2.7.78:
     * small bugfix to textual user interfac under unix (to avoid
       leav the termin in a bad state where it would not echo input
       after unison exit).
       
   chang sinc 2.7.39:
     * improv to the main web page (stabl and beta version doc
       ar now both access).
     * user manual revis.
     * ad some new prefer:
          + ``sshcmd'' and ``rshcmd'' for specifi path to ssh and rsh
            program.
          + ``contactquietli'' for suppress the ``contact server''
            messag dure unison startup (under the graphic ui).
     * bug fix:
          + fix small bug in ui that neglect to chang the displai
            column header if load a new profil caus the root to
            chang.
          + fix a bug that would put the text ui into an infinit loop
            if it encount a conflict when run in batch mode.
          + ad some code to try to fix the displai of non-ascii
            charact in filenam on window system in the gtk ui.
            (thi code is current untest---if you're on of the
            peopl that had report problem with displai of non-ascii
            filenam, we'd appreci know if thi actual fix
            thing.)
          + `-prefer/-forc newer' work properli now. (the bug wa
            report by sebastian urbaniak and sean fulton.)
     * user interfac and unison behavior:
          + renam `proce' to `go' in the graphic ui.
          + ad exit statu for the textual user interfac.
          + path that ar not synchron becaus of conflict or
            error dure updat detect ar now note in the log file.
          + [end] messag in log now us a briefer format
          + chang the text ui startup sequenc so that
            tt ./unison -ui text will us the default profil instead of
            fail.
          + made some improv to the error messag.
          + ad some debug messag to remot.ml.
       
   chang sinc 2.7.7:
     * incorpor, onc again, a multi-thread transport sub-system.
       it transfer sever file at the same time, therebi make much
       more effect us of avail network bandwidth. unlik the
       earlier attempt, thi time we do not reli on the nativ thread
       librari of ocaml. instead, we implement a light-weight,
       non-preemptiv multi-thread librari in ocaml directli. thi
       version appear stabl.
       some adjust to unison ar made to accommod the
       multi-thread version. these includ, in particular, chang to
       the user interfac and log, for exampl:
          + two log entri for each transfer task, on for the
            begin, on for the end.
          + suppress warn messag against remov temp file left
            by a previou unison run, becaus warn doe not work
            nice under multi-thread. the temp file name ar made
            less like to coincid with the name of a file creat by
            the user. thei take the form
            .#..unison.tmp.
     * ad a new command to the gtk user interfac: press 'f' caus
       unison to start a new updat detect phase, us as path just
       those path that have been detect as chang and not yet mark
       as successfulli complet. us thi command to quickli restart
       unison on just the set of path still need attent after a
       previou run.
     * made the ignorecas prefer user-visibl, and chang the
       initi code so that it can be manual set to true, even
       if neither host is run window. (thi mai be us, e.g.,
       when us unison run on a unix system with a fat volum
       mount.)
     * small improv and bug fix:
          + error in prefer file now gener fatal error rather
            than warn at startup time. (i.e., you can't go on from
            them.) also, we fix a bug that wa prevent these
            warn from appear in the text ui, so some user who
            have been run (unsuspectingli) with garbag in their
            pref file mai now get error report.
          + error report for prefer file now provid file name
            and line number.
          + more intellig messag in the case of ident chang to
            the same file: ``noth to do: replica have been chang
            onli in ident wai sinc last sync.''
          + file with prefix '.#' exclud when scan for prefer
            file.
          + rsync instruct ar send directli instead of first
            marshal.
          + won't try forev to get the fingerprint of a continu
            chang file: unison will give up after certain number of
            retri.
          + other bug fix, includ the on report by peter seling
            (forc=older prefer not work).
     * compil:
          + upgrad to the new ocaml 3.04 compil, with the lablgtk
            1.2.3 librari (patch version us for compil under
            window).
          + ad the option to compil unison on the window platform
            with cygwin gnu c compil. thi option onli support
            build dynam link unison execut.
       
   chang sinc 2.7.4:
     * fix a silli (but debilit) bug in the client startup
       sequenc.
       
   chang sinc 2.7.1:
     * ad addprefsto prefer, which (when set) control which
       prefer file new prefer (e.g. new ignor pattern) ar
       ad to.
     * bug fix: read the initi connect header on byte at a time, so
       that we don't block if the header is shorter than expect. (thi
       bug did not affect normal oper --- it just made it hard to
       tell when you were try to us unison incorrectli with an old
       version of the server, sinc it would hang instead of give an
       error messag.)
       
   chang sinc 2.6.59:
     * chang fastcheck from a boolean to a string prefer. it legal
       valu ar ye (for a fast check), no (for a safe check), or
       default (for a fast check---which also happen to be safe---when
       run on unix and a safe check when on window). the default is
       default.
     * sever prefer have been renam for consist. all
       prefer name ar now spell out in lowercas. for backward
       compat, the old name still work, but thei ar not
       mention in the manual ani more.
     * the temp file creat by the 'diff' and 'merg' command ar now
       name by prepend a new prefix to the file name, rather than
       append a suffix. thi should avoid confus diff/merg
       program that depend on the suffix to guess the type of the file
       content.
     * we now set the keepal option on the server socket, to make sure
       that the server time out if the commun link is
       unexpectedli broken.
     * bug fix:
          + when updat small file, unison now close the destin
            file.
          + file permiss ar properli updat when the file is behind
            a follow link.
          + sever other small fix.
       
   chang sinc 2.6.38:
     * major window perform improv!
       we've ad a prefer fastcheck that make unison look onli at
       a file's creation time and last-modifi time to check whether it
       ha chang. thi should result in a huge speedup when check
       for updat in larg replica.
       when thi switch is set, unison will us file creation time as
       'pseudo inod number' when scan window replica for updat,
       instead of read the full content of everi file. thi mai caus
       unison to miss propag an updat if the creat time,
       modif time, and length of the file ar all unchang by the
       updat (thi is not easi to achiev, but it can be done). howev,
       unison will never overwrit such an updat with a chang from the
       other replica, sinc it alwai doe a safe check for updat just
       befor propag a chang. thu, it is reason to us thi
       switch most of the time and occasion run unison onc with
       fastcheck set to fals, if you ar worri that unison mai have
       overlook an updat.
       warn: thi chang is ha not yet been thoroughli field-test.
       if you set the fastcheck prefer, pai care attent to what
       unison is do.
     * new function: central backup and merg
          + thi version incorpor two piec of major new
            function, implement by sylvain roi dure a summer
            internship at penn: a central backup facil that keep
            a full backup of (select file in) each replica, and a
            merg featur that allow unison to invok an extern
            file-merg tool to resolv conflict chang to
            individu file.
          + central backup:
               o unison now maintain full backup of the
                 last-synchron version of (some of) the file in
                 each replica; these function both as backup in the
                 usual sens and as the ``common version'' when invok
                 extern merg program.
               o the back up file ar store in a directori
                 /.unison/backup on each host. (the name of thi
                 directori can be chang by set the environ
                 variabl unisonbackupdir.)
               o the predic backup control which file ar actual
                 back up: give the prefer 'backup = path *'
                 caus back up of all file.
               o file ar ad to the backup directori whenev unison
                 updat it archiv. thi mean that
                    # when unison reconstruct it archiv from scratch
                      (e.g., becaus of an upgrad, or becaus the
                      archiv file have been manual delet), all
                      file will be back up.
                    # otherwis, each file will be back up the first
                      time unison propag an updat for it.
               o the prefer backupvers control how mani previou
                 version of each file ar kept. the default is 2 (i.e.,
                 the last synchron version plu on backup).
               o for backward compat, the backup prefer is
                 also still support, but backup is now prefer.
               o it is ok to manual delet file from the backup
                 directori (or to throw awai the directori itself).
                 befor unison us ani of these file for anyth
                 import, it check that it fingerprint match the
                 on that it expect.
          + merg:
               o both user interfac offer a new 'merg' command,
                 invok by press 'm' (with a chang file select).
               o the actual merg is perform by an extern program.
                 the prefer merg and merg2 control how thi
                 program is invok. if a backup exist for thi file
                 (see the backup prefer), then the merg prefer
                 is us for thi purpos; otherwis merg2 is us. in
                 both case, the valu of the prefer should be a
                 string repres the command that should be pass to
                 a shell to invok the merg program. within thi string,
                 the special substr current1, current2, new, and old
                 mai appear at ani point. unison will substitut these as
                 follow befor invok the command:
                    # current1 is replac by the name of the local copi
                      of the file;
                    # current2 is replac by the name of a temporari
                      file, into which the content of the remot copi of
                      the file have been transfer by unison prior to
                      perform the merg;
                    # new is replac by the name of a temporari file
                      that unison expect to be written by the merg
                      program when it finish, give the desir new
                      content of the file; and
                    # old is replac by the name of the back up copi
                      of the origin version of the file (i.e., it
                      state at the end of the last success run of
                      unison), if on exist (appli onli to merg, not
                      merg2).
                 for exampl, on unix system set the merg
                 prefer to

   merg = diff3 -m current1 old current2 > new
                 will tell unison to us the extern diff3 program for
                 merg.
                 a larg number of extern merg program ar
                 avail. for exampl, emac user mai find the
                 follow conveni:

    merg2 = emac -q --eval '(ediff-merg-file "current1" "current2"
               nil "new")'
    merg = emac -q --eval '(ediff-merg-file-with-ancestor
               "current1" "current2" "old" nil "new")'
                 (these command ar displai here on two line to avoid
                 run off the edg of the page. in your prefer
                 file, each should be written on a singl line.)
               o if the extern program exit without leav ani file
                 at the path new, unison consid the merg to have
                 fail. if the merg program write a file call new
                 but exit with a non-zero statu code, then unison
                 consid the merg to have succeed but to have
                 gener conflict. in thi case, it attempt to invok
                 an extern editor so that the user can resolv the
                 conflict. the valu of the editor prefer control
                 what editor is invok by unison. the default is emac.
               o pleas send us suggest for other us valu of
                 the merg2 and merg prefer -- we'd like to give
                 sever exampl in the manual.
     * smaller chang:
          + when on prefer file includ anoth, unison no longer
            add the suffix '.prf' to the includ file by default. if a
            file with precis the given name exist in the .unison
            directori, it will be us; otherwis unison will add .prf,
            as it did befor. (thi chang mean that includ prefer
            file can be name blah.includ instead of blah.prf, so that
            unison will not offer them in it 'choos a prefer file'
            dialog.)
          + for linux system, we now offer both a static link and
            a dynam link execut. the static on is larger,
            but will probabl run on more system, sinc it doesn't
            depend on the same version of dynam link librari
            modul be avail.
          + fix the forc and prefer prefer, which were get
            the propag direct exactli backward.
          + fix a bug in the startup code that would caus unison to
            crash when the default profil (~/.unison/default.prf) doe
            not exist.
          + fix a bug where, on the run when a profil is first
            creat, unison would confusingli displai the root in
            revers order in the user interfac.
     * for develop:
          + we've ad a modul depend diagram to the sourc
            distribut, in src/depend.ps, to help new prospect
            develop with navig the code.
       
   chang sinc 2.6.11:
     * incompat chang: archiv format ha chang.
     * incompat chang: the startup sequenc ha been complet
       rewritten and greatli simplifi. the main user-visibl chang is
       that the defaultpath prefer ha been remov. it effect can
       be approxim by us multipl profil, with includ
       direct to incorpor common set. all us of defaultpath
       in exist profil should be chang to path.
       anoth chang in startup behavior that will affect some user is
       that it is no longer possibl to specifi root both in the profil
       and on the command line.
       you can achiev a similar effect, though, by break your profil
       into two:


  default.prf =
      root = blah
      root = foo
      includ common

  common.prf =
      
       now do

  unison common root1 root2
       when you want to specifi root explicitli.
     * the -prefer and -forc option have been extend to allow user
       to specifi that file with more recent modtim should be
       propag, write either -prefer newer or -forc newer. (for
       symmetri, unison will also accept -prefer older or -forc older.)
       the -forc older/newer option can onli be us when -time is
       also set.
       the graphic user interfac provid access to these facil
       on a on-off basi via the action menu.
     * name of root can now be ``alias'' to allow replica to be
       reloc without chang the name of the archiv file where
       unison store inform between run. (thi featur is for
       expert onli. see the ``archiv file'' section of the manual for
       more inform.)
     * graphic user-interfac:
          + a new command is provid in the synchron menu for
            switch to a new profil without restart unison from
            scratch.
          + the gui also support on-kei shortcut for commonli us
            profil. if a profil contain a prefer of the form 'kei
            = n', where n is a singl digit, then press thi kei will
            caus unison to immedi switch to thi profil and begin
            synchron again from scratch. (ani action that mai
            have been select for a set of chang current be
            displai will be discard.)
          + each profil mai includ a prefer 'label = '
            give a descript string that describ the option
            select in thi profil. the string is list along with the
            profil name in the profil select dialog, and displai
            in the top-right corner of the main unison window.
     * minor:
          + fix a bug that would sometim caus the 'diff' displai to
            order the file backward rel to the main user
            interfac. (thank to pascal brisset for thi fix.)
          + on unix system, the graphic version of unison will check
            the displai variabl and, if it is not set, automat
            fall back to the textual user interfac.
          + synchron path (path prefer) ar now match
            against the ignor prefer. so if a path is both
            specifi in a path prefer and ignor, it will be
            skip.
          + numer other bugfix and small improv.
       
   chang sinc 2.6.1:
     * the synchron of modif time ha been disabl for
       directori.
     * prefer file mai now includ line of the form includ ,
       which will caus name.prf to be read at that point.
     * the synchron of permiss between window and unix now
       work properli.
     * a bind cygwin=binmod in now ad to the environ so that
       the cygwin port of openssh work properli in a non-cygwin context.
     * the servercmd and addversionno prefer can now be us
       togeth: -addversionno append an appropri -nnn to the server
       command, which is found by us the valu of the -servercmd
       prefer if there is on, or els just unison.
     * both '-pref=val' and '-pref val' ar now allow for boolean
       valu. (the former can be us to set a prefer to fals.)
     * lot of small bug fix.
       
   chang sinc 2.5.31:
     * the log prefer is now set to true by default, sinc the log
       file seem us for most user.
     * sever miscellan bugfix (most involv symlink).
       
   chang sinc 2.5.25:
     * incompat chang: archiv format ha chang (again).
     * sever signific bug introduc in 2.5.25 have been fix.
       
   chang sinc 2.5.1:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * new function:
          + unison now synchron file modtim, user-id, and
            group-id.
            these new featur ar control by a set of new
            prefer, all of which ar current fals by default.
               o when the time prefer is set to true, file
                 modif time ar propag. (becaus the
                 represent of time mai not have the same
                 granular on both replica, unison mai not alwai be
                 abl to make the modtim precis equal, but it will
                 get them as close as the oper system involv
                 allow.)
               o when the owner prefer is set to true, file ownership
                 inform is synchron.
               o when the group prefer is set to true, group
                 inform is synchron.
               o when the numericid prefer is set to true, owner and
                 group inform is synchron numer. by
                 default, owner and group number ar convert to name
                 on each replica and these name ar synchron. (the
                 special user id 0 and the special group 0 ar never
                 map via user/group name even if thi prefer is
                 not set.)
          + ad an integ-valu prefer perm that can be us to
            control the propag of permiss bit. the valu of thi
            prefer is a mask indic which permiss bit should
            be synchron. it is set by default to 0o1777: all bit but
            the set-uid and set-gid bit ar synchronis (synchron
            these latter bit can be a secur hazard). if you want to
            synchron all bit, you can set the valu of thi
            prefer to -1.
          + ad a log prefer (default fals), which make unison
            keep a complet record of the chang it make to the
            replica. by default, thi record is written to a file call
            unison.log in the user's home directori (the valu of the
            home environ variabl). if you want it someplac els,
            set the logfil prefer to the full pathnam you want
            unison to us.
          + ad an ignorenot prefer that maintain a set of
            pattern for path that should definit not be ignor,
            whether or not thei match an ignor pattern. (that is, a path
            will now be ignor iff it match an ignor pattern and doe
            not match ani ignorenot pattern.)
     * user-interfac improv:
          + root ar now displai in the user interfac in the same
            order as thei were given on the command line or in the
            prefer file.
          + when the batch prefer is set, the graphic user
            interfac no longer wait for user confirm when it
            displai a warn messag: it simpli pop up an advisori
            window with a dismiss button at the bottom and keep on
            go.
          + ad a new prefer for control how mani statu
            messag ar print dure updat detect: statusdepth
            control the maximum depth for path on the local machin
            (longer path ar not displai, nor ar non-directori
            path). the valu should be an integ; default is 1.
          + remov the trace and silent prefer. thei did not seem
            veri us, and there were too mani prefer for
            control output in variou wai.
          + the text ui now displai just the default command (the on
            that will be us if the user just type ) instead of
            all avail command. type ? will print the full list of
            possibl.
          + the function that find the canon hostnam of the local
            host (which is us, for exampl, in calcul the name of
            the archiv file us to rememb which file have been
            synchron) normal us the gethostnam oper system
            call. howev, if the environ variabl
            unisonlocalhostnam is set, it valu will now be us
            instead. thi make it easier to us unison in situat
            where a machin's name chang frequent (e.g., becaus it
            is a laptop and get move around a lot).
          + file owner and group ar now displai in the ``detail
            window'' at the bottom of the screen, when unison is
            configur to synchron them.
     * for hacker:
          + updat to jacqu garrigu's new version of lablgtk, which
            mean we can throw awai our local patch version.
            if you're compil the gtk version of unison from sourc,
            you'll need to updat your copi of lablgtk to the develop
            releas, avail from
            http://wwwfun.kurim.kyoto-u.ac.jp/soft/olabl/lablgtk.html
            (warn: instal lablgtk under window is current a bit
            challeng.)
          + the todo.txt file (in the sourc distribut) ha been
            clean up and reorgan. the list of pend task should
            be much easier to make sens of, for peopl that mai want to
            contribut their program energi. there is also a
            separ file bug.txt for open bug.
          + the tk user interfac ha been remov (it wa not be
            maintain and no longer compil).
          + the debug prefer now print quit a bit of addit
            inform that should be us for identifi sourc of
            problem.
          + the version number of the remot server is now check right
            awai dure the connect setup handshak, rather than
            later. (somebodi sent a bug report of a server crash that
            turn out to come from us inconsist version: better
            to check thi earlier and in a wai that can't crash either
            client or server.)
          + unison now run correctli on 64-bit architectur (e.g. alpha
            linux). we will not be distribut binari for these
            architectur ourselv (at least for a while) but if someon
            would like to make them avail, we'll be glad to provid a
            link to them.
     * bug fix:
          + pattern match (e.g. for ignor) is now case-insensit
            when unison is in case-insensit mode (i.e., when on of
            the replica is on a window machin).
          + some peopl had troubl with mysteri failur dure
            propag of updat, where file would be fals report
            as have chang dure synchron. thi should be
            fix.
          + numer smaller fix.
       
   chang sinc 2.4.1:
     * ad a number of 'sort mode' for the user interfac. by
       default, conflict chang ar displai at the top, and the
       rest of the entri ar sort in alphabet order. thi
       behavior can be chang in the follow wai:
          + set the sortnewfirst prefer to true caus newli
            creat file to be displai befor chang file.
          + set sortbys caus file to be displai in increas
            order of size.
          + give the prefer sortfirst= (where  is
            a path descriptor in the same format as 'ignor' and 'follow'
            pattern, caus path match thi pattern to be displai
            first.
          + similarli, give the prefer sortlast= caus
            path match thi pattern to be displai last.
       the sort prefer ar describ in more detail in the user
       manual. the sortnewfirst and sortbys flag can also be access
       from the 'sort' menu in the grpahic user interfac.
     * ad two new prefer that can be us to chang unison's
       fundament behavior to make it more like a mirror tool instead
       of a synchron.
          + give the prefer prefer with argument  (by ad
            -prefer  to the command line or prefer=) to your
            profil) mean that, if there is a conflict, the content of
             should be propag to the other replica (with no
            question ask). non-conflict chang ar treat as
            usual.
          + give the prefer forc with argument  will make
            unison resolv all differ in favor of the given root,
            even if it wa the other replica that wa chang.
       these option should be us with care! (more inform is
       avail in the manual.)
     * small chang:
          + chang default answer to 'ye' in all two-button dialog in
            the graphic interfac (thi seem more intuit).
          + the rsync prefer ha been remov (it wa us to
            activ rsync compress for file transfer, but rsync
            compress is now enabl by default).
          + in the text user interfac, the arrow indic which
            direct chang ar be propag ar print
            differ when the user ha overrid unison's default
            recommend (====> instead of ---->). thi match the
            behavior of the graphic interfac, which displai such
            arrow in a differ color.
          + carriag return (control-m's) ar ignor at the end of
            line in profil, for window compat.
          + all prefer ar now fulli document in the user manual.
       
   chang sinc 2.3.12:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * new/improv function:
          + a new prefer -sortbys control the order in which
            chang ar displai to the user: when it is set to true,
            the smallest chang file ar displai first. (the default
            set is fals.)
          + a new prefer -sortnewfirst caus newli creat file to
            be list befor other updat in the user interfac.
          + we now allow the ssh protocol to specifi a port.
          + incompat chang: the unison: protocol is deprec, and
            we ad file: and socket:. you mai have to modifi your
            profil in the .unison directori. if a replica is specifi
            without an explicit protocol, we now assum it refer to a
            file. (previous "//saul/foo" meant to us ssh to connect to
            saul, then access the foo directori. now it mean to access
            saul via a remot file mechan such as samba; the old
            effect is now achiev by write ssh://saul/foo.)
          + chang the startup sequenc for the case where root ar
            given but no profil is given on the command line. the new
            behavior is to us the default profil (creat it if it
            doe not exist), and temporarili overrid it root. the
            manual claim that thi case would work by read no
            profil at all, but afaik thi wa never true.
          + in all user interfac, file with conflict ar alwai
            list first
          + a new prefer 'sshversion' can be us to control which
            version of ssh should be us to connect to the server. legal
            valu ar 1 and 2. (default is empti, which will make unison
            us whatev version of ssh is instal as the default 'ssh'
            command.)
          + the situat when the permiss of a file wa updat the
            same on both side is now handl correctli (we us to report
            a spuriou conflict)
     * improv for the window version:
          + the fact that filenam ar treat case-insensit under
            window should now be handl correctli. the exact behavior
            is describ in the cross-platform section of the manual.
          + it should be possibl to synchron with window share,
            e.g., //host/drive/path.
          + workaround to the bug in sync root directori in
            window. the most difficult thing to fix is an ocaml bug:
            unix.opendir fail on c: in some version of window.
     * improv to the gtk user interfac (the tk interfac is no
       longer be maintain):
          + the ui now displai action differ (in blue) when thei
            have been explicitli chang by the user from unison's
            default recommend.
          + more color appear.
          + the initi profil select window work better.
          + if ani transfer fail, a messag to thi effect is
            displai along with 'synchron complet' at the end of
            the transfer phase (in case thei mai have scroll off the
            top).
          + ad a global progress meter, displai the percentag of
            total byte that have been transfer so far.
     * improv to the text user interfac:
          + the file detail will be displai automat when a
            conflict is been detect.
          + when a warn is gener (e.g. for a temporari file left
            over from a previou run of unison) unison will no longer
            wait for a respons if it is run in -batch mode.
          + the ui now displai a short list of possibl input each time
            it wait for user interact.
          + the ui now quit immedi (rather than loop back and
            start the interact again) if the user press 'q' when
            ask whether to propag chang.
          + press 'g' in the text user interfac will proce
            immedi with propag updat, without ask ani more
            question.
     * document and instal chang:
          + the manual now includ a faq, plu section on common
            problem and on trick contribut by user.
          + both the download page and the download directori explicitli
            sai what ar the current stabl and beta-test version
            number.
          + the ocaml sourc for the up-to-the-minut develop'
            version (not guarante to be stabl, or even to compil, at
            ani given time!) ar now avail from the download page.
          + ad a subsect to the manual describ cross-platform
            issu (case conflict, illeg filenam)
     * mani small bug fix and random improv.
       
   chang sinc 2.3.1:
     * sever bug fix. the most import is a bug in the rsync modul
       that would occasion caus chang propag to fail with a
       'renam' error.
       
   chang sinc 2.2:
     * the multi-thread transport system is now disabl by default.
       (it is not stabl enough yet.)
     * variou bug fix.
     * a new experiment featur:
       the final compon of a -path argument mai now be the wildcard
       specifi *. when unison see such a path, it expand thi path on
       the client into into the correspond list of path by list
       the content of that directori.
       note that if you us wildcard path from the command line, you
       will probabl need to us quot or a backslash to prevent the *
       from be interpret by your shell.
       if both root ar local, the content of the first on will be
       us for expand wildcard path. (nb: thi is the first on
       after the canon step -- i.e., the on that is list first
       in the user interfac -- not the on list first on the command
       line or in the prefer file.)
       
   chang sinc 2.1:
     * the transport subsystem now includ an implement by sylvain
       gommier and norman ramsei of tridgel and mackerra's rsync
       protocol. thi protocol achiev much faster transfer when onli a
       small part of a larg file ha been chang by send just diff.
       thi featur is mainli help for transfer over slow link---on
       fast local area network it can actual degrad perform---so
       we have left it off by default. start unison with the -rsync
       option (or put rsync=true in your prefer file) to turn it on.
     * ``progress bar'' ar now diplai dure remot file transfer,
       show what percentag of each file ha been transfer so far.
     * the version number scheme ha chang. new releas will now be
       have number like 2.2.30, where the second compon is
       increment on everi signific public releas and the third
       compon is the ``patch level.''
     * miscellan improv to the gtk-base user interfac.
     * the manual is now avail in pdf format.
     * we ar experi with us a multi-thread transport
       subsystem to transfer sever file at the same time, make much
       more effect us of avail network bandwidth. thi featur is
       not complet stabl yet, so by default it is disabl in the
       releas version of unison.
       if you want to plai with the multi-thread version, you'll need
       to recompil unison from sourc (as describ in the
       document), set the thread flag in makefil.ocaml to
       true. make sure that your ocaml compil ha been instal with
       the -with-pthread configur option. (you can verifi thi by
       check whether the file thread/thread.cma in the ocaml
       standard librari directori contain the string -lpthread near the
       end.)
       
   chang sinc 1.292:
     * reduc memori footprint (thi is especi import dure the
       first run of unison, where it ha to gather inform about all
       the file in both repositori).
     * fix a bug that would caus the socket server under nt to fail
       after the client exit.
     * ad a shift modifi to the ignor menu shortcut kei in gtk
       interfac (to avoid hit them accident).
       
   chang sinc 1.231:
     * tunnel over ssh is now support in the window version. see
       the instal section of the manual for detail instruct.
     * the transport subsystem now includ an implement of the
       rsync protocol, built by sylvain gommier and norman ramsei. thi
       protocol achiev much faster transfer when onli a small part of
       a larg file ha been chang by send just diff. the rsync
       featur is off by default in the current version. us the -rsync
       switch to turn it on. (nb. we still have a lot of tune to do:
       you mai not notic much speedup yet.)
     * we're experi with a multi-thread transport subsystem,
       written by jerom vouillon. the download binari ar still
       singl-thread: if you want to try the multi-thread version,
       you'll need to recompil from sourc. (sai make thread=true.)
       nativ thread support from the compil is requir. us the
       option -thread n to select the maxim number of concurr
       thread (default is 5). multi-thread and singl-thread
       client/server can interoper.
     * a new gtk-base user interfac is now avail, thank to jacqu
       garrigu. the tk user interfac still work, but we'll be shift
       develop effort to the gtk interfac from now on.
     * ocaml 3.00 is now requir for compil unison from sourc. the
       modul uitk and myfileselect have been chang to us labltk
       instead of camltk. to compil the tk interfac in window, you
       must have ocaml-3.00 and tk8.3. when instal tk8.3, put it in
       c:\tcl rather than the suggest c:\program file\tcl, and be sure
       to instal the header and librari (which ar not instal by
       default).
     * ad a new -addversionno switch, which caus unison to us
       unison- instead of just unison as the remot
       server command. thi allow multipl version of unison to coexist
       conveni on the same server: whichev version is run on the
       client, the same version will be select on the server.
       
   chang sinc 1.219:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * thi version fix sever annoi bug, includ:
          + some case where propag of file permiss wa not
            work.
          + umask is now ignor when creat directori
          + directori ar creat writabl, so that a read-onli
            directori and it content can be propag.
          + handl of warn gener by the server.
          + synchron a path whose parent is not a directori on both
            side is now flag as erron.
          + fix some bug relat to symnbol link and nonexist
            root.
               o when a chang (delet or new content) is propag
                 onto a 'follow'ed symlink, the file point to by the
                 link is now chang. (we us to chang the link itself,
                 which doesn't fit our assert that 'follow' mean the
                 link is complet invis)
               o when on root did not exist, propag the other root
                 on top of it us to fail, becuas unison could not
                 calcul the work directori into which to write
                 chang. thi should be fix.
     * a human-readabl timestamp ha been ad to unison's archiv
       file.
     * the semant of path and name regular express now correspond
       better.
     * some minor improv to the text ui (e.g. a command for go
       back to previou item)
     * the organ of the export directori ha chang --- should be
       easier to find / download thing now.
       
   chang sinc 1.200:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * thi version ha not been test extens on window.
     * major intern chang design to make unison safer to run at the
       same time as the replica ar be chang by the user.
     * intern perform improv.
       
   chang sinc 1.190:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * a number of intern function have been chang to reduc the
       amount of memori alloc, especi dure the first
       synchron. thi should help power user with veri big
       replica.
     * reimplement of low-level remot procedur call stuff, in
       prepar for ad rsync-like smart file transfer in a later
       releas.
     * miscellan bug fix.
       
   chang sinc 1.180:
     * incompat chang: archiv format ha chang. make sure you
       synchron your replica befor upgrad, to avoid spuriou
       conflict. the first sync after upgrad will be slow.
     * fix some small bug in the interpret of ignor pattern.
     * fix some problem that were prevent the window version from
       work correctli when click-start.
     * fix to treatment of file permiss under window, which were
       caus spuriou report of differ permiss when
       synchron between window and unix system.
     * fix on more non-tail-recurs list process function, which
       wa caus stack overflow when synchron veri larg
       replica.
       
   chang sinc 1.169:
     * the text user interfac now provid command for ignor file.
     * we found and fix some more non-tail-recurs list process
       function. some power user have report success with veri larg
       replica.
     * incompat chang: file end in .tmp ar no longer ignor
       automat. if you want to ignor such file, put an
       appropri ignor pattern in your profil.
     * incompat chang: the syntax of ignor and follow pattern ha
       chang. instead of put a line of the form

                 ignor = 
       in your profil (.unison/default.prf), you should put:

                 ignor = regexp 
       moreov, two other style of pattern ar also recogn:

                 ignor = name 
       match ani path in which on compon match , while

                 ignor = path 
       match exactli the path .
       standard ``glob'' convent can be us in  and
       :
          + a ? match ani singl charact except /
          + a * match ani sequenc of charact not includ /
          + [xyz] match ani charact from the set {x, y, z }
          + {a,bb,ccc} match ani on of a, bb, or ccc.
       see the user manual for some exampl.
       
   chang sinc 1.146:
     * some user were report stack overflow when synchron huge
       directori. we found and fix some non-tail-recurs list
       process function, which we hope will solv the problem. pleas
       give it a try and let us know.
     * major addit to the document.
       
   chang sinc 1.142:
     * major intern tidi and mani small bugfix.
     * major addit to the user manual.
     * unison can now be start with no argument -- it will prompt
       automat for the name of a profil file contain the root
       to be synchron. thi make it possibl to start the graphic
       ui from a desktop icon.
     * fix a small bug where the text ui on nt wa rais a 'no such
       signal' except.
       
   chang sinc 1.139:
     * the precompil window binari in the last releas wa compil
       with an old ocaml compil, caus propag of permiss not
       to work (and perhap lead to some other strang behavior we've
       heard report about). thi ha been correct. if you're us
       precompil binari on window, pleas upgrad.
     * ad a -debug command line flag, which control debug of
       variou modul. sai -debug xxx to enabl debug trace for modul
       xxx, or -debug all to turn on absolut everyth.
     * fix a small bug where the text ui on nt wa rais a 'no such
       signal' except.
       
   chang sinc 1.111:
     * incompat chang: the name and format of the prefer file
       in the .unison directori have chang. in particular:
          + the file ``pref'' should be renam to default.prf
          + the content of the file ``ignor'' should be merg into
            default.prf. each line of the form regexp in ignor should
            becom a line of the form ignor = regexp in default.prf.
     * unison now handl permiss bit and symbol link. see the
       manual for detail.
     * you can now have differ prefer file in your .unison
       directori. if you start unison like thi

             unison profilenam
       (i.e. with just on ``anonym'' command-line argument), then the
       file ~/.unison/profilenam.prf will be load instead of
       default.prf.
     * some improv to termin handl in the text user interfac
     * ad a switch -killserv that termin the remot server
       process when the unison client is shut down, even when us
       socket for commun. (by default, a remot server creat
       us ssh/rsh is termin automat, while a socket server
       is left run.)
     * when start in 'socket server' mode, unison print 'server
       start' on stderr when it is readi to accept connect. (thi
       mai be us for script that want to tell when a socket-mode
       server ha finish init.)
     * we now make a nightli mirror of our current intern develop
       tree, in case anyon want an up-to-the-minut version to hack
       around with.
     * ad a file contrib with some suggest for how to help us make
       unison better.
       


to unsubscrib from thi group, send an email to:
unison-announc-unsubscrib@egroup.com

 

your us of yahoo! group is subject to http://doc.yahoo.com/info/term/ 



